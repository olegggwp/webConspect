то что мы написали -- с ротингом и т п -- это "микроскопический недофреймфорк"

![[Pasted image 20240218135531.png|550]]

доменная сущность -- юзер

сервисы -- находятся в слое модели
хорошая идея делать сервисы domain-ориентированными 
ну т е юзер -- юзерСервис
в целом стоило написать интерфейсы и их реализации а не сразу классы сервисов но мы торопимся так что ежжи 
не путать сервисы и контроллеры!

![[Pasted image 20240218175530.png|425]]

возникает понятие validation exception

библиотека guava
-- чтобы удобные утилитки для стрингов

работа с временем -- прерогатива бд, потому что томкатов у нас может быть запущено допизды а бд по идее одна (как минимум у нее один источник времени)

mariaDB

![[Pasted image 20240218182647.png|450]]

# про соль в паролях
просто хэшить пароли не достаточно потому что
1) облегчается реверсинжениринг (см радужные таблицы)
2) если кто-то вставляет пароль 12345 мы сразу увидим этот хэш
соль это что-то разное для разных паролей, напимер имя юзера
всегда стоит проектировать систему с рассчетом на то что данные могут утечь
#### упражнение:
Почему не стоит использовать время регистрации как соль? (2 причины)
#### JDBC
[jdbc](https://youtu.be/vxTPPHTbgHw?list=PLd7QXkfmSY7ZAwa6z9rNEHBRfHGeLCXS7&t=2712)
к нему нужен драйвер
#### бд
primary-ключ
индекс дерево поиска
всегда юзать prepared statement-ы










