фреймворк (система фреймворков, настолько он большой)

принцип convention over configuration
вместо того чтобы в конфигурационных файлах много чего настраивать мы просто называем файлы определенным образом и определенным образов кладем их в папки и все работает

spring boot -- фрейворк второго порядка, нужен для управления ("оркестрации") spring приложением, облегчает его настройку
используя spring boot можно легко построить веб приложение
еще более высокий уровень -- spring initialiser -- сайт на котором покликаешь какие нужны зависимости, он отдаст архив где будет готовое для spring boot приложение? со всеми зависимостями

jar -- обычно самодостаточный файл который можно просто запустить и в нем уже будет какой-нибудь tomcat и он заработает (в противопоставление war)

spring web -- классическая часть спринга, позволяет создавать классические mvc приложения

JPA -- раньше мы использовали jdbc, он был довольно низкоуровневым (резалтсеты, соединения и тп). JPA это более высокоуровневый API для взаимодействия нашего объектно-орентированного кода с персистент-слоем, в нашем случае -- реляционнной базой данных
такие вещи называются ORM
Hibernate -- одна из реализаций (стандарта) JPA

![[Pasted image 20240220135003.png|375]]


![[Pasted image 20240220135319.png|243]]
означает что схема бд будет автоматически обновляться в зависимости от декларативной разметки вокруг наших исходных текстов
![[Pasted image 20240220135543.png|350]]
-кидать нащих запросы в логи
-комментарии??
-отформатируй (чтобы нам было проще читать)

![[Pasted image 20240220135740.png|183]]
это плохо, по хорошему нужно в отдельном файлике sensitive information писать и каким-нибудь плагином сюда через переменные подгружать


![[Pasted image 20240220135922.png]]
соответствующий экземпляр класса будет создан чисто спрингом

![[Pasted image 20240220140342.png]]

![[Pasted image 20240220140527.png]]
заглушка на непомаппленный урл

![[Pasted image 20240220141742.png|500]]
ну я не совсем понял как оно само помапило переменные с запроса но короче он говорит что в запросе нам кинули аттрибуты логин пароль и что нужно чтобы их превратили (побайндили) в объект UserCredentials
типа оно работало без аннотаций ваще я вахуях
#todo почитать поэксперементировать

UPD: а, вот как:
![[Pasted image 20240220143237.png|450]]


![[Pasted image 20240220142135.png|450]]
аннотации для валидации
![[Pasted image 20240220142227.png|500]]
и добавили аннотацию @Valid
![[Pasted image 20240220142337.png]]

**@Valid** должен быть до **@ModelAttribute**, **BindingResult** после того что мы байндим 

![[Pasted image 20240220142740.png|338]]
файл  с набором специальных макросов которые обеспечивают интеграцию спринга для фримаркера

![[Pasted image 20240220143027.png|325]]

![[Pasted image 20240220142938.png|325]]
![[Pasted image 20240220143053.png|275]]


![[Pasted image 20240220143356.png]]
здесь model это модель для view


![[Pasted image 20240220143639.png|425]]
теперь добавится зависимость от UserService и спринг автоматически все разрулит

![[Pasted image 20240220143829.png|137]]

![[Pasted image 20240220144000.png|126]] -- сквозные айдишники по всем пользователям
![[Pasted image 20240220144122.png|154]]
![[Pasted image 20240220144323.png|400]] -- раньше мы это делали руками
![[Pasted image 20240220144509.png|400]]  Long -- соответсвующий primary-ключ
![[Pasted image 20240220144635.png|350]] -- говорим спрингу что нам нужен UserRepository и даем ему простой способ его внедрить

![[Pasted image 20240220144819.png|180]] -- служебная информация, хранит возрастающую последовательность индексов
![[Pasted image 20240220145055.png|525]]
-делаем в repository метод обновления пароля, пишем запрос (декларативно)

в @Repository: ![[Pasted image 20240220145710.png|233]] -- JPA сам распарсит название и сделает функцию вау вот это реально магия

@Component (он потом дописал)
![[Pasted image 20240220145943.png|400]]
кастомный валидатор
![[Pasted image 20240220150234.png|375]]


![[Pasted image 20240220150424.png|228]] -- мы попросили сессию и нам ее дадут магия спринга
![[Pasted image 20240220150603.png|280]] -- за счет того что мы это написали в Page этот юзер будет класться во все контроллеры что нам нужны??? 

![[Pasted image 20240220150720.png]] -- способ сказать что поле заинжекшено

![[Pasted image 20240220150834.png]] -- возвращает optional





dependency-injection принцип
 [IoC](https://en.wikipedia.org/wiki/Inversion_of_control) -- **inversion of control** 
 https://habr.com/ru/articles/131993/
 