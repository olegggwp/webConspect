библиотека jquery
[быстрый взгляд](https://jquery.com/)

# CDN -- Content Delivery Network
нам нужно для сайта чтобы у браузера юзера была какая то библиотека (например jquery)
мы можем 
1. просто эту библиотеку скачать на сервер и присылать на запросы
2. брать ее с CDN
CDN это сервера по всему миру на которых лежат всякие популярные библиотеки
их предоставляют всякие компании
из плюсов
- то что все может работать быстрее (если пользователь далеко от нас но не от cdn)
- когда юзер впервые зайдет на сайт вполне возможно что с cdn-а уже будет скачан jquery (т к он популярный), и значит браузре не будет его снова скачивать и наш сайт отобразится быстрее
минусы
- сайт не работает без интернета
- проблемы с cdn (их дудосят, инженеры проебались и т п)

подключаем так:
![[Pasted image 20240219133439.png|375]]
#todo добавить ссылку сюда в лекцию css

так размещается на страничке js код
![[Pasted image 20240219133731.png|250]]

функция $(); это магическая jquery-функция, которая вызовет наш код примерно тогда когда мы хотим, когда дерево DOM уже будет построено

если в $() передается строка, которая может быть распаршена как css селектор, осущетсвляется запрос чтобы найти все соответсвующие элементы

прикол:
если у ноды а был сын img а потом мы сделали ("a").text("Hello") , сын убьется и вместо него подвесится нода текста

```

.click(fun)
вызовет функцию при клике на элемент
до того как напимер перейти по ссылке

если fun вернет false то исполнение события прервется (мы не перейдем по ссылке)

это работает так: все обработчики какого то события лежат в стеке, fun на вершине стека, и если он возвращает false программа выходит из стека
"не передаем дальше в цепочку обработчиков действие клик"



```
внутри fun:
![[Pasted image 20240219135111.png|219]]
у js функций есть контекст вызова, мы обращаемся к нему
this -- типа DOM элемент, а $(this) -- он но превращенный в jquery (теперь у него есть .css, .text и т п)

мы ловим формы на submit а не клик потому что понятно почему это правильнее
соглашение: в названии переменной использовать $ (в начале) если в ней хранится jquery

# асинхронный неблокирующий запрос на сервер
-- короче интуитивно
![[Pasted image 20240219140458.png|375]]
success -- если (когда) сервер вернет нам ответ


# прицип подход AJAX
асинхронный javascript and xml
ну по факту у нас это будет javascript and json

# аннотация
![[Pasted image 20240219141141.png|300]]
аннотация retention runtime говорит что данная (json здесь) аннотация будет нужна в рантайме поэтому не вырезай ее на этапе компиляции
target -- к чему применят аннотацию

![[Pasted image 20240219141236.png|400]]
![[Pasted image 20240219141420.png|245]]

"Шаблонизация на стороне браузера":
![[Pasted image 20240219143135.png|350]]

![[Pasted image 20240219143254.png|525]]
![[Pasted image 20240219143712.png|275]]
![[Pasted image 20240219143655.png|350]]
![[Pasted image 20240219144035.png|116]]
![[Pasted image 20240219144209.png|169]]
![[Pasted image 20240219144336.png|298]]
window это типа супер глобальнгая переменная и мы определили у нее метод notify и теперь сможем его вызывать
![[Pasted image 20240219144500.png|111]]

## упражнение
так а зачем нужен ajax?

# почему
`.prop("content")`



